# План развертывания проекта на VPS

Этот документ содержит пошаговый план действий для развертывания вашего проекта.

---

### **Шаг 1: Публикация проекта в GitHub**

**Среда выполнения:** Ваш локальный компьютер.

**Задача:** Убедиться, что все сделанные мной изменения (новые файлы, исправления в коде) отправлены в ваш репозиторий на GitHub.

1.  **Проверьте статус файлов:**
    ```bash
    git status
    ```
2.  **Добавьте все измененные и новые файлы для коммита:**
    ```bash
    git add .
    ```
3.  **Сделайте коммит (сохраните изменения):**
    ```bash
    git commit -m "Подготовка проекта к развертыванию на VPS"
    ```
4.  **Отправьте изменения в ваш GitHub репозиторий:**
    ```bash
    git push origin SMS-во-время-разговора-CLI
    ```

---

### **Шаг 2: Настройка DNS**

**Среда выполнения:** Панель управления вашего доменного регистратора.

**Задача:** "Привязать" ваш домен к IP-адресу сервера.

1.  Войдите в личный кабинет, где вы покупали домен `assistantbot.online`.
2.  Найдите настройки DNS для этого домена.
3.  Создайте или измените **A-запись** так, чтобы она указывала на IP-адрес вашего VPS: `194.5.159.34`.

---

### **Шаг 3: Подготовка и запуск на VPS**

**Среда выполнения:** Ваш сервер VPS.

**Задача:** Установить всё необходимое ПО, скачать проект из GitHub и запустить его.

1.  **Подключитесь к вашему VPS по SSH:**
    ```bash
    ssh root@assistantbot.online
    ```

2.  **Установите необходимое ПО (Node.js, npm, PM2, Git):**
    ```bash
    # Обновляем список пакетов
    sudo apt update
    # Устанавливаем Git
    sudo apt install -y git
    # Устанавливаем Node.js 20.x
    curl -fsSL https://deb.nodesource.com/setup_20.x | sudo -E bash -
    sudo apt-get install -y nodejs
    # Устанавливаем PM2
    sudo npm install -g pm2
    ```

3.  **Клонируйте ваш проект из GitHub:**
    ```bash
    git clone https://github.com/Leader153/Gemini_whatsUP.git /docker/Gemini_whatsUP
    ```

4.  **Сгенерируйте SSL-сертификат с помощью Certbot:**
    *   **Важно:** Убедитесь, что порт `80` свободен на время выполнения этой команды.
    ```bash
    # Устанавливаем Certbot
    sudo snap install --classic certbot
    sudo ln -s /snap/bin/certbot /usr/bin/certbot
    # Генерируем сертификат
    sudo certbot certonly --standalone -d assistantbot.online
    ```

5.  **Настройте брандмауэр:**
    ```bash
    sudo ufw allow 1337/tcp
    ```

6.  **Перейдите в директорию проекта и установите зависимости:**
    ```bash
    cd /docker/Gemini_whatsUP
    npm install
    ```

7.  **Запустите приложение с помощью PM2:**
    ```bash
    pm2 start config/ecosystem.config.js
    ```
    *   **Проверить статус:** `pm2 list`
    *   **Посмотреть логи:** `pm2 logs gemini-bot`

8.  **Настройте автозапуск приложения после перезагрузки сервера:**
    ```bash
    pm2 startup
    # Скопируйте и выполните команду, которую вам выдаст pm2 startup
    pm2 save
    ```

---

### **Шаг 4: Дополнительные команды на VPS (Опционально)**

**Среда выполнения:** Ваш сервер VPS.

**Задача:** Войти в Docker Hub, если вы используете его для других сервисов.

```bash
docker login ghcr.io -u Leader153
```
